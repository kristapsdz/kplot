.Dd $Mdocdate: February 9 2015 $
.Dt KPLOTCTX_DRAW 3
.Os
.Sh NAME
.Nm kplotctx_draw
.Nd plot data on Cairo context
.Sh LIBRARY
.Lb libkplot
.Sh SYNOPSIS
.In cairo.h
.In kplot.h
.Ft void
.Fo kplotctx_draw
.Fa "struct kplotctx *ctx"
.Fa "const struct kplot *p"
.Fa double w
.Fa double h
.Fa "cairo_t *cr"
.Fc
.Sh DESCRIPTION
The
.Nm
function draws all valid points of all data sources onto a Cairo context
.Fa cr
of height
.Fa h
and width
.Fa w .
It performs all the necessary range and domain checks to fit all data
sources into the image.
.Pq If no points are specified, the domain and range are zero.
The image is laid out as described in the Drawing Model section of
.Xr kplot 3 .
.Pp
It is the same as
.Xr kplot_draw 3 ,
but allows access to the translation context
.Fa ctx .
This is zeroed and filled so that the caller has access to the plot's
offset, dimensions, and other values for translating into and from the
Cairo context.
.Pp
The translation context
.Fa ctx
consists of the following members:
.Bl -tag -width Ds
.It Fa "cairo_t *cr"
Cairo context copied from the caller argument.
.It Fa "double h"
Height of the context copied from the caller argument.
.It Fa "double w"
Width of the context copied from the caller argument.
.It Fa "struct kpair minv"
Minimum data point values.
.It Fa "struct maxv minv"
Maximum data point values.
.It Fa "struct kplotcfg cfg"
Configuration copied from the plot.
.It Fa "struct kpair offs" , "struct kpair dims"
Offset and dimensions of the plot itself after accounting for
margin, labels, and boundary.
.El
.\" .Sh RETURN VALUES
.\" .Sh ENVIRONMENT
.\" For sections 1, 6, 7, and 8 only.
.\" .Sh FILES
.\" .Sh EXIT STATUS
.\" For sections 1, 6, and 8 only.
.\" .Sh EXAMPLES
.\" .Sh DIAGNOSTICS
.\" For sections 1, 4, 6, 7, 8, and 9 printf/stderr messages only.
.\" .Sh ERRORS
.\" For sections 2, 3, 4, and 9 errno settings only.
.Sh SEE ALSO
.Xr kplot 3 ,
.Xr kplot_alloc 3 ,
.Xr kplot_draw 3
.\" .Sh STANDARDS
.\" .Sh HISTORY
.\" .Sh AUTHORS
.\" .Sh CAVEATS
.\" .Sh BUGS
.\" .Sh SECURITY CONSIDERATIONS
.\" Not used in OpenBSD.
